{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/main.js","../src/js/render-functions.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nexport function getImage(inputData) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const params = new URLSearchParams({\n        key: '43066959-f9f55707df0fe34b818b99119',\n        q: inputData,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n    const url = `${BASE_URL}${END_POINT}?${params}`;\n\n\n    return fetch(url).then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n\n        return response.json();\n    });\n}\n\n\n\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getImage } from './js/pixabay-api'\nimport { imageType } from './js/render-functions';\n\nexport const galleryImg = document.querySelector('.gallery');\nexport const formData = document.querySelector('.form');\n\n\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt'\n});\n\n\nformData.addEventListener('submit', event => {\n    event.preventDefault();\n    const inputData = event.target.elements.image.value.trim();\n\n    if (inputData === '') {\n        iziToast.error({\n            color: 'red',\n            position: 'center',\n            message: \"Please enter a search query!\",\n        });\n        return;\n    };\n\n    const loader = document.createElement('div');\n    loader.classList.add('loader');\n    document.body.appendChild(loader); \n\n\n    getImage(inputData)\n        .then(data => {\n            const markup = imageType(data.hits);\n            galleryImg.innerHTML = markup;\n             \n            lightbox.refresh();\n            \n            if (data.hits.length === 0) {\n                iziToast.info({\n                    title: 'Info',\n                    position: 'center',\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                });\n                return;\n            } \n        })\n        .catch(error => {\n            iziToast.error({\n                color: 'red',\n                position: 'center',\n                message: \"Sorry, there was an error processing your request. Please try again!\",\n            });\n        })\n        .finally(() => {\n           formData.reset();\n            document.body.removeChild(loader);\n        });\n});\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { galleryImg } from '../main';\n\nexport const imageType = (images) => {\n    return images.map(image =>\n        `<li class=\"gallery-item\">\n           <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n             <img\n               class=\"gallery-image\"\n               width=\"1280\"\n               height=\"152\"\n               src=\"${image.webformatURL}\"\n               data-source=\"${image.largeImageURL}\"\n               alt=\"${image.tags}\"\n             />\n             </a>\n             <ul class=\"gallery-description\">\n             <li class=\"item-description\"><h3>Likes</h3><p>${image.likes}</p>\n             </li>\n             <li class=\"item-description\"><h3>Views</h3><p>${image.views}</p>\n               </li>\n               <li class=\"item-description\"><h3>Comments</h3><p>${image.comments}</p>\n                 </li>\n                 <li class=\"item-description\"><h3>Downloads</h3><p>${image.downloads}</p>\n                   </li>\n             </ul>\n           </li>`\n   ).join('');\n}\n\n"],"names":["getImage","inputData","BASE_URL","END_POINT","params","url","response","galleryImg","formData","lightbox","SimpleLightbox","event","iziToast","loader","data","markup","imageType","error","images","image"],"mappings":"6vBAOO,SAASA,EAASC,EAAW,CAChC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAG7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CAC/B,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MACxB,CAAK,CACL,CClBO,MAAMC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAW,SAAS,cAAc,OAAO,EAItD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,aAAc,KAClB,CAAC,EAGDF,EAAS,iBAAiB,SAAUG,GAAS,CACzCA,EAAM,eAAc,EACpB,MAAMV,EAAYU,EAAM,OAAO,SAAS,MAAM,MAAM,OAEpD,GAAIV,IAAc,GAAI,CAClBW,EAAS,MAAM,CACX,MAAO,MACP,SAAU,SACV,QAAS,8BACrB,CAAS,EACD,MAER,CACI,MAAMC,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAU,IAAI,QAAQ,EAC7B,SAAS,KAAK,YAAYA,CAAM,EAGhCb,EAASC,CAAS,EACb,KAAKa,GAAQ,CACV,MAAMC,EAASC,EAAUF,EAAK,IAAI,EAKlC,GAJAP,EAAW,UAAYQ,EAEvBN,EAAS,QAAO,EAEZK,EAAK,KAAK,SAAW,EAAG,CACxBF,EAAS,KAAK,CACV,MAAO,OACP,SAAU,SACV,QAAS,0EAC7B,CAAiB,EACD,MACH,CACb,CAAS,EACA,MAAMK,GAAS,CACZL,EAAS,MAAM,CACX,MAAO,MACP,SAAU,SACV,QAAS,sEACzB,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACZJ,EAAS,MAAK,EACb,SAAS,KAAK,YAAYK,CAAM,CAC5C,CAAS,CACT,CAAC,ECxDM,MAAMG,EAAaE,GACfA,EAAO,IAAIC,GACd;AAAA,2CACmCA,EAAM,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKxCA,EAAM,YAAY;AAAA,8BACVA,EAAM,aAAa;AAAA,sBAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,6DAI6BA,EAAM,KAAK;AAAA;AAAA,6DAEXA,EAAM,KAAK;AAAA;AAAA,kEAENA,EAAM,QAAQ;AAAA;AAAA,qEAEXA,EAAM,SAAS;AAAA;AAAA;AAAA,iBAIpF,EAAK,KAAK,EAAE"}